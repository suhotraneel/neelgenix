<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neel Genix</title>
    <link rel="icon" href="assets/ngicon.svg" type="image/x-icon">
    <link rel="stylesheet" href="main.css" type="text/css">
</head>
<body>
    <footer>
        <div class="foot2">
            <div style="display: flex; align-items: flex-start;">
                <img src="assets/pgicony.svg" style="height: 48px; width: auto;" alt="Project Genix">
                <div style="margin-left: 32px;">
                    <div style="font-size: 24px;">Subscribe to our <span style="font-weight: 500;">Newsletter</span>.</div>
                    <div style="font-size: 12px;">Project Genix, Copyright 2024. All Rights Reserved.</div>
                </div>
            </div>
            <div class="newsform">
                <form id="email-form">
                    <div class="input-wrapper">
                        <svg id="effecthover" fill="#DB261D" stroke="#FFFFFF" stroke-width="3" width="388" height="48" viewBox="0 0 388 48" fill="none" xmlns="http://www.w3.org/2000/svg" style="transition: fill 0.3s ease;">
                            <path d="M376.337 46.5H10.8633L1.76975 18.9119L26.0817 1.5H361.118L385.43 18.9119L376.337 46.5Z">
                        </svg>
                        <input type="email" id="email" name="email" placeholder="Email Address" required>
                        <div id="response-message"></div>
                    </div>
                    <button type="submit">
                        <svg id="detecthover" fill="#ffffff" width="167" height="48" viewBox="0 0 167 49" xmlns="http://www.w3.org/2000/svg" style="transition: fill 0.3s ease;" onmouseover="this.querySelector('path').setAttribute('fill', '#FFF903');" onmouseout="this.querySelector('path').setAttribute('fill', '#ffffff');">
                            <path d="M0 48.1656H140.8L166.035 29.8312L156.396 0.165625H0V24V48.1656Z"/>
                            <text x="55%" y="50%" dominant-baseline="middle" text-anchor="middle" class="substext" fill="#000000">SUBSCRIBE</text>
                        </svg>
                    </button> 
                </form>
            </div>
        </div>
    </footer>
    <script>
        const form = document.getElementById('email-form');
        const responseMessageElement = document.getElementById('response-message');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value;
            try {
                const response = await fetch('/api/email', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email }),
                });
                const responseData = await response.json();
                if (response.ok) {
                    responseMessageElement.innerHTML = `Email saved successfully!`;
                    responseMessageElement.style.color = 'green';
                    console.log('Email saved successfully!');
                } else {
                    responseMessageElement.innerHTML = responseData.error;
                    responseMessageElement.style.color = 'red';
                    console.error('Error saving email:', response.status);
                }
            } catch (error) {
                responseMessageElement.innerHTML = 'Error saving email:';
                responseMessageElement.style.color = 'red';
                console.error('Error saving email:', error);
            }
        });
    </script>
    <script src="mainscript.js"></script>
</body>
</html>